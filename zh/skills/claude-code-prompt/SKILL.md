# Claude Code Prompt Skill

> **版本**: v1.0  
> **创建日期**: 2025-01-31  
> **适用场景**: 使用 Claude Code 进行代码生成和项目实现  
> **前置要求**: 已完成系统设计阶段，有明确的技术规格

---

## 这个 Skill 是什么？

这是一套用于编写高质量 Claude Code Prompts 的方法论和模板。通过结构化的 Prompt 设计，实现：

- AI 主导执行流程
- 用户只需提供必要输入
- 每一步可验证
- 错误可处理

---

## 何时使用？

当你需要：
1. 让 Claude Code 帮你搭建项目骨架
2. 让 Claude Code 实现特定模块
3. 让 Claude Code 生成测试代码
4. 让 Claude Code 创建初始化脚本

---

## Prompt 结构模板

### 标准结构

```markdown
# Claude Code Prompt: [项目名] - [任务名]

## 你的角色

你是一个 [角色描述]。你的任务是 [任务目标]。

**重要原则**：
- 你主导整个流程
- 只在必要时向用户询问信息
- 获得信息后自主完成所有操作
- 每完成一个阶段，汇报进度

---

## 第一步：[信息收集/环境确认]

[需要从用户获取的信息，一次性问完]

```
我需要一些信息：

1. [问题 1]
2. [问题 2]
3. [问题 3]

请提供以上信息，我会自动完成后续所有操作。
```

**获得信息后，自动检查**：
- [前置条件 1]
- [前置条件 2]

---

## 第二步到第 N 步：[执行任务]

### 2.1 [子任务 1]

[具体的代码/文件内容/执行命令]

### 2.2 [子任务 2]

[具体的代码/文件内容/执行命令]

---

## 验证步骤

[验证任务完成的命令或检查项]

---

## 完成报告

所有步骤完成后，向用户汇报：

```
✅ [任务名] 完成！

📁 创建/修改的文件：
- [文件 1]
- [文件 2]

🧪 验证结果：
- [验证项 1]: ✅
- [验证项 2]: ✅

下一步：[指引]
```

---

## 错误处理

如果遇到问题：

1. [常见错误 1]：[解决方案]
2. [常见错误 2]：[解决方案]

报告具体错误并提供解决方案。
```

---

## 关键设计原则

### 1. 信息收集一次性完成

**正确做法**：
```
我需要以下信息：
1. Python 命令是什么？
2. 项目目录在哪？
3. MySQL 连接信息？

请一次性提供。
```

**错误做法**：
```
Python 命令是什么？
[等待回复]
好的，项目目录在哪？
[等待回复]
MySQL 连接信息是什么？
```

### 2. 执行而非指导

**正确做法**：
```
## 执行步骤

获得用户信息后，自动执行：
1. 创建目录结构
2. 创建所有文件
3. 安装依赖
4. 运行验证
```

**错误做法**：
```
## 执行步骤

请按以下顺序操作：
1. 运行 mkdir 命令
2. 运行 pip install
3. 检查文件是否创建
```

### 3. 代码完整性

**正确做法**：
提供完整的、可直接使用的代码

**错误做法**：
- 提供代码片段让用户自己组装
- 使用 `...` 或 `# 其他代码` 省略关键部分

### 4. 错误处理前置

在 Prompt 末尾提供常见错误的处理方案，让 AI 能够自主解决问题。

---

## 任务分解指南

### 分解原则

1. **单一职责**：每个 Prompt 只做一件事
2. **可验证**：每个 Prompt 结束时有明确的验收标准
3. **顺序依赖**：后续 Prompt 依赖前序 Prompt 的产出
4. **渐进式**：从基础设施到业务逻辑

### 推荐的分解粒度

| 任务类型 | 建议粒度 |
|----------|----------|
| 项目初始化 | 1 个 Prompt |
| 数据库模型 | 1 个 Prompt（每个模块） |
| 业务逻辑模块 | 1-2 个 Prompt（取决于复杂度） |
| API 端点 | 1 个 Prompt（每个模块） |
| 测试代码 | 1 个 Prompt（每个模块） |
| 初始化脚本 | 1 个 Prompt |

### 示例：用户认证模块

```
Prompt 01: 项目初始化（搭骨架）
    ↓
Prompt 02: 数据库模型（User, Role, RefreshToken）
    ↓
Prompt 03: 安全模块（JWT, bcrypt）
    ↓
Prompt 04: 认证 API（4 个端点）
    ↓
Prompt 05: API 测试
    ↓
Prompt 06: 初始化脚本（建库 + 建表 + 初始数据）
```

---

## 验收标准模板

每个 Prompt 应明确验收标准：

```markdown
## 验收标准

- [ ] [文件/目录] 已创建
- [ ] [命令] 执行成功
- [ ] [测试] 通过
- [ ] [服务] 可访问
- [ ] [接口] 返回预期结果
```

---

## 与其他 Skill 的关系

| Skill | 关系 |
|-------|------|
| project-kickoff/enterprise-web | 本 Skill 用于实现其 Phase 4（代码实现） |
| meta-knowledge | 可从 Claude Code 实践中提炼经验 |

---

## 案例参考

参见：`templates/` 目录下的实际案例

---

## 版本历史

| 版本 | 日期 | 更新内容 |
|------|------|----------|
| v1.0 | 2025-01-31 | 初始版本，基于用户认证模块实践验证 |
